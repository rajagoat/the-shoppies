(this["webpackJsonpthe-shoppies-new"]=this["webpackJsonpthe-shoppies-new"]||[]).push([[0],{39:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(32),a=c.n(n),r=(c(39),c(8)),i=c.p+"static/media/movie-icon.07f4ac20.svg",o=c(20),l=c(2),u=function(){return Object(l.jsxs)("nav",{className:"navbar",children:[Object(l.jsx)(o.b,{to:"/",className:"logo icon",children:Object(l.jsx)("img",{src:i,alt:"Movie Icon"})}),Object(l.jsx)(o.b,{to:"/",className:"logo",children:Object(l.jsx)("h1",{children:"THE SHOPPIES"})}),Object(l.jsx)(o.b,{to:"/",className:"links home",children:"Home"}),Object(l.jsx)(o.b,{to:"/nominations",className:"links nom",children:"Nominations"})]})},j=c(22),d=function(e){var t=Object(s.useState)(null),c=Object(r.a)(t,2),n=c[0],a=c[1];return Object(s.useEffect)((function(){Object(j.trackPromise)(fetch(e).then((function(e){return e.json()})).then((function(e){a(e)})))}),[e]),{data:n}},b=c.p+"static/media/NA.aa2bf3da.svg",m=function(e){for(var t=e.maxPages,c=e.page,n=e.setPage,a=e.promiseInProgress,r=[],i=Object(s.useRef)(!0),o=c-2;o<=c+2&&o<=t+2;o++)-1===o?r.push("a"):0===o?r.push("b"):o===t+1?r.push("c"):o===t+2?r.push("d"):r.push(o);Object(s.useEffect)((function(){document.querySelectorAll(".page-number").forEach((function(e){isNaN(e.innerText)||(Number(e.innerText)===c?e.setAttribute("class","main-page"):Number(e.innerText)===c-1||Number(e.innerText)===c+1?e.setAttribute("class","secondary-page"):Number(e.innerText)!==c-2&&Number(e.innerText)!==c+2||e.setAttribute("class","tertiary-page"))}))})),Object(s.useEffect)((function(){if(i.current)i.current=!1;else{var e=document.querySelector(".search input");window.scrollTo(0,e.offsetTop-20)}}),[c]);var u=function(e){document.querySelector(".main-page").setAttribute("class","page-number"),document.querySelectorAll(".secondary-page").forEach((function(e){e.setAttribute("class","page-number")})),document.querySelectorAll(".tertiary-page").forEach((function(e){e.setAttribute("class","page-number")})),n(e)};return Object(l.jsx)("div",{children:!a&&Object(l.jsxs)("div",{className:"pages",children:[1!==c?Object(l.jsx)("div",{className:"previous",onClick:function(){return u(c-1)},children:"Previous"}):Object(l.jsx)("div",{className:"previous-hidden",children:"Previous"}),r.map((function(e){return Object(l.jsx)("div",{className:"page-number",onClick:function(){return u(e)},children:e},e)})),c!==t?Object(l.jsx)("div",{className:"next",onClick:function(){return u(c+1)},children:"Next"}):Object(l.jsx)("div",{className:"next-hidden",children:"Next"})]})})},h=function(e){var t=e.movie,c=e.setShowModal,n=e.setId,a=e.page,r=e.setPage,i="https://www.omdbapi.com/?s=".concat(t,"&apikey=da1f5ac0&type=movie&page=").concat(a),o=d(i).data,u=[];if(null!=o)var j=Math.ceil(o.totalResults/10);Object(s.useEffect)((function(){null!=o&&document.querySelectorAll(".poster").forEach((function(e){"N/A"===e.getAttribute("src")&&e.setAttribute("src",b)}))}),[o]);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("ul",{className:"card-list",children:[o&&"False"===o.Response&&Object(l.jsx)("h1",{className:"no-results",children:"No Results Found"}),o&&"False"!==o.Response&&o.Search.map((function(e){return u.includes(e.imdbID)?null:(u.push(e.imdbID),Object(l.jsxs)("li",{className:"card",onClick:function(){return t=e.imdbID,c(!0),void n(t);var t},children:[Object(l.jsx)("img",{className:"poster",src:"".concat(e.Poster),alt:"Movie Poster"}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h3",{className:"title",children:e.Title}),Object(l.jsx)("p",{className:"year",children:e.Year})]})]},"".concat(e.imdbID)))}))]}),o&&"False"!==o.Response&&Object(l.jsx)(m,{maxPages:j,page:Number(a),setPage:r})]})},O=c(74),p=c(73),x=c.p+"static/media/exit-icon.bf0343e8.svg",f=c.p+"static/media/closed-icon.9e2ec151.svg",g=c.p+"static/media/open-icon.bd14231d.svg",v=c(34),N=c.n(v),y=function(e){var t=e.className;return Object(j.usePromiseTracker)().promiseInProgress&&Object(l.jsx)("div",{className:t,children:Object(l.jsx)(N.a,{type:"ThreeDots",color:"#d5d5d5",height:"100",width:"100"})})},S={visible:{opacity:1},hidden:{opacity:0}},A=function(e){var t=e.showModal,c=e.setShowModal,n=e.id,a=e.setId,i=e.nomData,o="https://www.omdbapi.com/?i=".concat(n,"&apikey=da1f5ac0&plot=short"),u=d(o).data,m=Object(j.usePromiseTracker)().promiseInProgress,h=Object(s.useState)(!1),v=Object(r.a)(h,2),N=v[0],A=v[1],I=Object(s.useState)(!1),P=Object(r.a)(I,2),k=P[0],E=P[1];if(null!==u){var T=document.querySelector(".poster");null!==T&&"N/A"===T.getAttribute("src")&&T.setAttribute("src",b)}Object(s.useEffect)((function(){for(var e=!1,t=0;t<i.length;t++)if(i[t].imdbID===n){e=!0;break}E(!!e)}),[n,i,u]),Object(s.useEffect)((function(){var e=document.querySelector(".title-modal");if(null!==u)var t=u.Genre;void 0!==t&&null!==e&&["Action","Adventure","Animation","Biography","Comedy","Crime","Documentary","Drama","Family","Fantasy","Horror","Music","Mystery","Romance","Sci-Fi","Short","Sport","Thriller","War"].forEach((function(c){t.includes(c)&&e.insertAdjacentHTML("afterend",'<p class="genre">'.concat(c,"</p>"))}))}),[u]);var w=function(e){e.target!==document.querySelector("div.backdrop")&&e.target!==document.querySelector("img.exit")||(c(!1),a(""),A(!1))};document.addEventListener("keydown",(function(e){t&&"Escape"===e.key&&(c(!1),a(""),A(!1))}));return Object(l.jsx)(O.a,{exitBeforeEnter:!0,children:t&&Object(l.jsxs)(p.a.div,{className:"backdrop",variants:S,initial:"hidden",animate:"visible",onClick:function(e){return w(e)},children:[Object(l.jsx)(y,{}),!m&&u&&Object(l.jsxs)(p.a.div,{className:"modal",children:[Object(l.jsx)("img",{className:"poster",src:u.Poster,alt:"Movie Poster"}),Object(l.jsxs)("div",{className:"data",children:[Object(l.jsx)("img",{className:"exit",src:x,alt:"Exit Icon",onClick:function(e){return w(e)}}),Object(l.jsxs)("div",{className:"info",children:[Object(l.jsx)("h3",{className:"title-modal",children:u.Title}),Object(l.jsxs)("p",{className:"actors",children:[Object(l.jsx)("b",{children:"Actors: "}),u.Actors]}),Object(l.jsxs)("p",{className:"plot",children:[Object(l.jsx)("b",{children:"Plot Summary: "}),u.Plot]}),!N&&Object(l.jsxs)("div",{className:"less-details",onClick:function(){return A(!0)},children:[Object(l.jsx)("img",{className:"closed",src:f,alt:"Closed Icon"}),Object(l.jsx)("h4",{children:"More Details"})]}),N&&Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"more-details",onClick:function(){return A(!1)},children:[Object(l.jsx)("img",{className:"open",src:g,alt:"Open Icon"}),Object(l.jsx)("h4",{children:"Less Details"})]}),Object(l.jsxs)("div",{className:"more-details-info",children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Rated:"})," ",u.Rated]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Released:"})," ",u.Released]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Runtime:"})," ",u.Runtime]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Produced by:"})," ",u.Production]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Director(s):"})," ",u.Director]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Writer(s):"})," ",u.Writer]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Language:"})," ",u.Language]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Country:"})," ",u.Country]})]})]})]}),!k&&Object(l.jsx)("button",{onClick:function(){5===i.length?alert("Your nominations are full!"):(i.push(u),localStorage.setItem("nominations",JSON.stringify(i)),E(!0))},children:"NOMINATE"}),k&&Object(l.jsx)("button",{className:"nominated",onClick:function(){return function(){for(var e=0;e<i.length;e++)if(i[e].imdbID===n){var t=e;break}i.splice(t,1),localStorage.setItem("nominations",JSON.stringify(i)),E(!1)}()},children:"NOMINATED"})]})]})]})})},I=function(e){var t=e.setMovie,c=e.page,n=e.setPage;Object(s.useEffect)((function(){var e=document.querySelector("div > form input");e.setAttribute("size",e.getAttribute("placeholder").length)}),[]),Object(s.useEffect)((function(){document.querySelectorAll(".page-number").forEach((function(e){isNaN(e.innerText)||(Number(e.innerText)===c?e.setAttribute("class","main-page"):Number(e.innerText)===c-1||Number(e.innerText)===c+1?e.setAttribute("class","secondary-page"):Number(e.innerText)!==c-2&&Number(e.innerText)!==c+2||e.setAttribute("class","tertiary-page"))}))}));return Object(l.jsx)("div",{className:"search",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(e.target[0].value);var c=document.querySelector(".main-page");null!==c&&c.setAttribute("class","page-number");var s=document.querySelectorAll(".secondary-page");null!==s&&s.forEach((function(e){e.setAttribute("class","page-number")}));var a=document.querySelectorAll(".tertiary-page");null!==a&&a.forEach((function(e){e.setAttribute("class","page-number")})),n(1)},children:[Object(l.jsx)("input",{type:"text",placeholder:"Search for any movie (ex: Star Wars)",required:!0}),Object(l.jsx)("button",{children:"Search"})]})})},P=function(e){var t=e.nomData,c=Object(s.useState)("Star Wars"),n=Object(r.a)(c,2),a=n[0],i=n[1],o=Object(s.useState)(!1),u=Object(r.a)(o,2),j=u[0],d=u[1],b=Object(s.useState)(""),m=Object(r.a)(b,2),O=m[0],p=m[1],x=Object(s.useState)("1"),f=Object(r.a)(x,2),g=f[0],v=f[1];return Object(l.jsxs)("div",{className:"home",children:[Object(l.jsxs)("h2",{children:["Find and nominate your favourite movies ",Object(l.jsx)("br",{})," for the annual Shoppies!"]}),Object(l.jsx)(I,{setMovie:i,page:g,setPage:v}),Object(l.jsx)(A,{showModal:j,setShowModal:d,id:O,setId:p,nomData:t}),Object(l.jsx)(h,{movie:a,setShowModal:d,setId:p,page:g,setPage:v})]})},k=c(5),E=function(e){for(var t=e.nomData,c=Object(s.useState)(!1),n=Object(r.a)(c,2),a=n[0],i=n[1],o=Object(s.useState)(""),u=Object(r.a)(o,2),j=u[0],d=u[1],b=[],m=t.length;m<5;m++)b.push(m);return Object(l.jsxs)("div",{className:"nominations",children:[Object(l.jsx)(A,{showModal:a,setShowModal:i,id:j,setId:d,nomData:t}),Object(l.jsx)("h1",{className:"nominations-title",children:"Your Nominations:"}),Object(l.jsxs)("div",{className:"nominations-grid",children:[t&&t.map((function(e){return Object(l.jsxs)("li",{className:"card",onClick:function(){return function(e){i(!0),d(e)}(e.imdbID)},children:[Object(l.jsx)("img",{className:"poster",src:"".concat(e.Poster),alt:"Movie Poster"}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h3",{className:"title",children:e.Title}),Object(l.jsx)("p",{className:"year",children:e.Year})]})]},"".concat(e.imdbID))})),0!==b.length&&b.map((function(e){return Object(l.jsx)("li",{className:"empty",children:Object(l.jsx)("h3",{children:"Missing Nomination"})},e)}))]}),0!==t.length&&Object(l.jsx)("button",{onClick:function(){for(var e=0;e<t.length;e++)t.pop();localStorage.setItem("nominations",JSON.stringify(t)),window.location.reload()},children:"Clear All"})]})};var T=function(){var e=Object(s.useReducer)([],[],(function(){var e=localStorage.getItem("nominations");return e?JSON.parse(e):[]})),t=Object(r.a)(e,1)[0];return Object(l.jsx)(o.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{}),Object(l.jsxs)(k.c,{children:[Object(l.jsx)(k.a,{exact:!0,path:"/",children:Object(l.jsx)(P,{nomData:t})}),Object(l.jsx)(k.a,{path:"/nominations",children:Object(l.jsx)(E,{nomData:t})})]})]})})};a.a.render(Object(l.jsx)(T,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.c3f9013c.chunk.js.map